<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <div class="page-content">

        <!-- ***** Users List Start ***** -->
        <div class="row">
          <div class="col-lg-4">
            <div class="top-downloaded">
              <div class="heading-section">
                <h4><em>Users</em></h4>
              </div>
              <ul>
                <li *ngFor="let user of users" (click)="selectUser(user)" [ngClass]="{ 'unread': user.hasUnreadMessages }">
                  {{ user.name }}
                </li>
              </ul>
            </div>
          </div>

          <!-- ***** Chat Section Start ***** -->
          <div class="col-lg-8" *ngIf="selectedUser">
            <div class="featured-games header-text">
              <div class="heading-section">
                <h4><em>Chat with</em> {{ selectedUser.name }}</h4>
              </div>
              <div class="chat-body">
                <div *ngFor="let feedback of feedbacks" class="message"
                     [ngClass]="{ incoming: feedback.sender._id !== userId, outgoing: feedback.sender._id === userId }">
                  <p>{{ feedback.message }}</p>
                </div>
              </div>
              <div class="chat-footer">
                <input [(ngModel)]="replyMessage" placeholder="Type your reply here" type="text" class="form-control">
                <button (click)="sendReply()" class="btn btn-primary">Send Reply</button>
              </div>
            </div>
          </div>
          <!-- ***** Chat Section End ***** -->

        </div>
        <!-- ***** Users List End ***** -->

      </div>
    </div>
  </div>
</div>
